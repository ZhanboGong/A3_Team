<!--Home Tab-->
<ion-header>
  <ion-toolbar color="primary">
    <ion-item lines="none">
      <ion-label>
        Welcome
        <p>
          <ion-icon name="logo-angular"></ion-icon>
          <ion-text>Item Management</ion-text>
          <ion-button fill="clear" color="light">
            <ion-icon slot="icon-only" name="chevron-down-outline"></ion-icon>
          </ion-button>
        </p>
      </ion-label>
      <ion-button slot="end" (click)="openHelpModel()">
        <ion-icon slot="icon-only" name="help-circle-outline"></ion-icon>
      </ion-button>

    </ion-item>
    <ion-row>
      <ion-col size="12">
        <ion-searchbar debounce="800" color="light" #searchInput inputmode="search" class="srchBar" mode="ios"
          placeholder="Search" routerLink="/tabs/tab2">
        </ion-searchbar>
      </ion-col>
    </ion-row>
  </ion-toolbar>
  <!--help modal-->
  <ion-modal [isOpen]="helpModelStatu">
    <ng-template>
      <ion-toolbar color="primary">
        <ion-button (click)="closeHelpModel()">
          <ion-icon name="return-down-back-outline">Return</ion-icon>
        </ion-button>
      </ion-toolbar>

      <ion-content>
        <ion-header>
          <ion-toolbar color="primary">
            <ion-title>Home Help Page</ion-title>
          </ion-toolbar>
        </ion-header>

        <ion-card>
          <ion-card-header>
            <ion-card-title>USAGE</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p>Here is how to use this page:</p>
            <p><strong>1. Search Bar</strong></p>
            <p>Clicking the Search bar will take you to the Search Page</p>
            <p><strong>2. Start Manage Button</strong></p>
            <p>Go to the Manage page</p>
            <p><strong>3. Inventory Overview</strong></p>
            <p>Displays statistics for the current Item</p>
            <p><strong>4. Navigation</strong></p>
            <p>Click on the navigation bar at the bottom of the page to go to the page you want</p>
            <p><strong>5. Help Button</strong></p>
            <p>Go to the Help page, The Help content is different for each page</p>
          </ion-card-content>
        </ion-card>

        <ion-card>
          <ion-card-header>
            <ion-card-title>Problem and Solving</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-list>
              <ion-item>
                <ion-label>
                  <h3>Problem 1: Why is there already data statistics without adding any data oneself?</h3>
                  <p>This app is a shared database. When other students perform operations on their own apps, this app
                    will also display
                    them. Therefore, when you enter this app, you can see that there are already items existing.</p>
                </ion-label>
              </ion-item>
              <ion-item>
                <ion-label>
                  <h3>Problem 2: Data does not load properly (all statistics are 0)</h3>
                  <p>Because this app uses a shared database, the database can sometimes be slow to access or fail to
                    load, you can try to check the network condition or try refreshing.</p>
                </ion-label>
              </ion-item>
            </ion-list>
          </ion-card-content>
        </ion-card>

        <ion-card>
          <ion-card-header>
            <ion-card-title>Contact</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p>If you think there are still problems with this page, you can contact me through the following ways:</p>
            <p><strong>WeChat</strong></p>
            <p>wxid_639m9rswbdmi22</p>
            <p><strong>Phone:</strong></p>
            <p>+86 18179025638</p>
          </ion-card-content>
        </ion-card>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-header>

<ion-content>
  <!-- Project Introduction -->
  <div class="intro-section">
    <ion-card class="header-card">
      <ion-card-header>
        <ion-card-title class="main-title">
          Item Management System
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p class="description">
          Efficiently manage your merchandise inventory and keep track of stock status at all times.
        </p>
        <ion-button expand="block" color="primary" class="cta-button" routerLink="/tabs/tab3" routerDirection="root">
          Start Managing Now!
        </ion-button>
      </ion-card-content>
    </ion-card>

    <!-- Function Introduction -->
    <ion-card class="feature-card">
      <ion-card-content>
        <ion-list lines="none">
          <ion-item>
            <ion-icon name="cube" slot="start"></ion-icon>
            <ion-label>
              <h3>Commodity Management</h3>
              <p>Add, edit and delete inventory items</p>
            </ion-label>
          </ion-item>

          <ion-item>
            <ion-icon name="search" slot="start"></ion-icon>
            <ion-label>
              <h3>Quick Search</h3>
              <p>Find products by name with filters</p>
            </ion-label>
          </ion-item>

          <ion-item>
            <ion-icon name="stats-chart" slot="start"></ion-icon>
            <ion-label>
              <h3>Inventory Status</h3>
              <p>Real-time stock monitoring</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>
  </div>

  <!-- Statistics panel -->
  <ion-card class="stats-card">
    <ion-card-header>
      <ion-card-title>Inventory Overview</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <!-- Statistics (all and freatured) -->
      <div class="core-stats">
        <div class="stat-item primary">
          <ion-icon name="bag" class="stat-icon"></ion-icon>
          <div class="stat-value">{{ items.length }}</div>
          <div class="stat-label">Total Items</div>
        </div>

        <div class="stat-item accent">
          <ion-icon name="star" class="stat-icon"></ion-icon>
          <div class="stat-value">{{ featuredCount }}</div>
          <div class="stat-label">Featured</div>
        </div>
      </div>

      <!-- Statistics (by item) -->
      <div class="category-grid">
        <div class="category-item" *ngFor="let category of categoryList">
          <ion-icon [name]="category.icon" class="category-icon"></ion-icon>
          <div class="category-value">{{ category.count }}</div>
          <div class="category-name">{{ category.name }}</div>
        </div>
      </div>
    </ion-card-content>
  </ion-card>
</ion-content>